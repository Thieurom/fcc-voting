doctype html

html(lang='en')
  head
    meta(charset='utf-8')
    meta(name='description', content='')
    meta(name='author', content='doanthieu')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    if (title)
      title= title
    else
      title= 'Voting App'
    link(rel='stylesheet', href='https://fonts.googleapis.com/css?family=Roboto:300,400,500')
    link(rel='stylesheet', href='/css/styles.css')

  body(class=className, data-page-funcs=pageFuncs)
    block body
      header.header
        .header__wrapper
          a.brand-logo(href='/') Voting App
          
          .nav-bar
            if (user)
              .nav-bar__dropdown= user.username
                ul.dropdown
                  li.dropdown__item #[a(href='/profile') Profile]
                  li.dropdown__item #[a(href='/settings') Settings]
                  li.dropdown__item #[a(href='/logout') Log out]
                  
              a.nav-bar__link(href='/newpoll') #[span.fontawesome-plus.font-icon]

            else
              a.nav-bar__link(href='/login') Log in
              a.nav-bar__link(href='/signup') Sign up
              

      main.main
        .main__wrapper
          if (message && message.length > 0)
            .alert #{message} #[button.alert__close(type='button') #[span.fontawesome-remove.font-icon]]

          block main_content

      footer.footer
        .footer__note 2017. #[a.footer__link(href='/') Voting App]. Created by #[a.footer__link(href='https://twitter.com/lethieu') lethieu].

      script(src='/js/main.js')